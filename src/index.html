<!DOCTYPE html>
<html lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="shortcut icon" href="/favicon.png" />
    <title>Story Map</title>

    <!-- Leaflet CSS -->
    <link
      rel="stylesheet"
      href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
      integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY="
      crossorigin=""
    />

    <link rel="stylesheet" href="styles/styles.css" />

    <!-- Leaflet JS -->
    <script
      src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
      integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo="
      crossorigin=""
    ></script>

    <script type="module" src="/scripts/index.js"></script>
  </head>
  <body>
    <header class="app-header">
      <div class="header-content">
        <a href="#/" class="brand-link">
          <h1>Story Map</h1>
        </a>

        <nav class="main-nav">
          <ul class="nav-links">
            <li><a href="#/">Home</a></li>
            <li><a href="#/map">Map</a></li>
            <li><a href="#/about">About</a></li>
          </ul>
        </nav>

        <div id="user-section" class="user-section">
          <button
            id="notification-btn"
            class="btn-notification"
            style="display: none"
            aria-label="Toggle notifications"
            title="Notifications"
          >
            <svg
              class="icon-bell"
              width="20"
              height="20"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
            >
              <path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"></path>
              <path d="M13.73 21a2 2 0 0 1-3.46 0"></path>
            </svg>
            <svg
              class="icon-bell-off"
              width="20"
              height="20"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              style="display: none"
            >
              <path d="M13.73 21a2 2 0 0 1-3.46 0"></path>
              <path d="M18.63 13A17.89 17.89 0 0 1 18 8"></path>
              <path d="M6.26 6.26A5.86 5.86 0 0 0 6 8c0 7-3 9-3 9h14"></path>
              <path d="M18 8a6 6 0 0 0-9.33-5"></path>
              <line x1="1" y1="1" x2="23" y2="23"></line>
            </svg>
          </button>
          <div id="user-profile" class="user-profile" style="display: none">
            <img
              id="user-avatar"
              class="user-avatar"
              src=""
              alt="User Avatar"
            />
            <span id="user-name" class="user-name"></span>
            <button id="logout-btn" class="btn btn-logout">Logout</button>
          </div>
          <div id="auth-links" class="auth-links">
            <a href="#/login" id="login-link" class="btn btn-login">Login</a>
            <a href="#/register" id="register-link" class="btn btn-register"
              >Sign Up</a
            >
          </div>
        </div>
      </div>
    </header>

    <div id="login-modal" class="modal" style="display: none">
      <div class="modal-content">
        <span class="close">&times;</span>
        <h2>Login</h2>
        <form id="login-form">
          <div class="form-group">
            <label for="email">Email</label>
            <input
              type="email"
              id="email"
              name="email"
              required
              placeholder="Enter your email"
            />
          </div>
          <div class="form-group">
            <label for="password">Password</label>
            <input
              type="password"
              id="password"
              name="password"
              required
              placeholder="Enter your password"
            />
          </div>
          <div id="login-error" class="form-error" style="display: none"></div>
          <button type="submit" class="btn btn-primary">Login</button>
        </form>
      </div>
    </div>

    <main id="main-content" class="main-content"></main>

    <footer class="app-footer">
      <p>&copy; 2025 Story Map</p>
    </footer>
  </body>
</html>
